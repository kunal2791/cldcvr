name: Deploy Fruits to EKS

on:
  workflow_dispatch:
    inputs:
      fruits:
        description: 'Select fruits to deploy'
        required: true
        default: 'apple'  # Default value if no input provided

jobs:
  deploy:
    runs-on: ubuntu-latest

    strategy:
      matrix:
        fruit:
          - apple
          - banana
          - orange

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Deploy to EKS
      env:
        FRUIT: ${{ matrix.fruit }}
      run: |
        echo "Selected fruit: $FRUIT"
        # Use kubectl or eksctl to deploy the selected fruit to EKS
        # Example: kubectl apply -f deployment-${FRUIT}.yaml
